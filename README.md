# 앤서블이란?

![ansible-wide](https://github.com/kyomin/ansible-basic/assets/46395776/2045982c-432c-4ad2-9224-02cc56e14275)

Ansible(앤서블)은 여러 개의 서버를 효율적으로 관리할 수 있게 해주는 IT 환경 구성 자동화 도구이다.   
시스템을 구성하고, 소프트웨어를 배포하고, 지속적인 배포 또는 제로 다운 타임 롤링 업데이트와 같은 고급 IT 작업이 가능하다.   
   
앤서블은 플레이북이라는 곳에 실행할 구성을 선언해 놓으면, 필요할 때마다 자동으로 실행시킬 수 있는 것이 가장 큰 특징이다.   
웹서버의 구성 등을 선언해 놓으면 관리자들은 필요할 때마다 그 구성대로 서버의 설정을 배포할 수 있게 해주는 것이다.   
   
또한 여러 번 적용해도 결과가 동일하며, 수정된 부분이 있다면 그 부분만 새롭게 반영되는 **멱등성**의 특징이 있으며, 데이터 전송을 위해 OpenSSH를 이용하고, yaml 언어를 사용한다.

# 앤서블의 기본 개념, 용어

<img width="600" alt="ansible_terms" src="https://github.com/kyomin/ansible-basic/assets/46395776/d8f566e5-b4dc-4d1a-9d16-10001af521a7">

### 제어 노드(Control Node)
앤서블을 실행하는 노드이며, 제어노드에서 명령어로 관리 노드들을 관리한다.

### 매니지드 노드(Managed Node)
앤서블로 관리하는 서버 노드이며, 호스트라고도 한다.   
매니지드 노드에는 앤서블이 설치되지 않는다.

### 인벤토리(Inventory)
호스트 파일이라고도 하며, 매니지드 노드 목록을 인벤토리라고 한다.   
앤서블에 의해 제어될 대상을 정의한다.   
각 매니지드 노드에 대한 IP 주소, 호스트 정보, 변수와 같은 정보를 지정할 수 있다.

### 플레이북(Playbook)
순서가 지정된 태스크 목록이 저장되어 지정된 작업을 해당 순서로 반복적으로 실행할 수 있다.   
YAML로 작성되며, 플레이북에는 변수와 작업이 포함될 수 있다.   
즉, 무엇을 수행할 것인지를 정한다.   
인벤트리와 함께 생각해야 한다.

### 태스크(Task)
앤서블의 작업 단위이다.   
애드훅(ad-hoc) 명령을 사용하여 단일 작업을 한 번 실행할 수 있다.

### 모듈(Module)
앤서블이 실행하는 코드 단위이다.   
플레이북에서 task가 어떻게 수행될지를 정한다.   
실제 작업을 처리하는 단위로 이 Module이라는 개념을 사용한다.

# 앤서블 구조

앤서블은 다음과 같이 ssh로 제어 노드와 매니지드 노드가 연결된다.

![ansible_structure](https://github.com/kyomin/ansible-basic/assets/46395776/10d3af25-4497-4010-88ae-bed59aae9f32)